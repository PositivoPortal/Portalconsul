<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Portal Técnico</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root { color-scheme: dark; }
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(to right, #0f2027, #203a43, #2c5364);
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
      padding: 40px 20px;
      color: #fff;
    }
    .container {
      background-color: rgba(255, 255, 255, 0.05);
      padding: 30px;
      border-radius: 16px;
      width: 100%;
      max-width: 520px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.2);
      backdrop-filter: blur(10px);
    }
    h2 { text-align: center; margin: 0 0 8px; }
    .sub { text-align: center; margin: 0 0 24px; opacity: .85; font-weight: 500; }
    label { display: block; margin: 12px 0 6px; font-weight: 600; }
    select, input {
      width: 100%;
      padding: 10px;
      border: none;
      border-radius: 6px;
      background-color: rgba(255, 255, 255, 0.12);
      color: #fff;
      font-size: 1em;
      outline: 1px solid rgba(255,255,255,0.15);
    }
    input::placeholder { color: #ccc; }
    select option { color: #111; }
    button {
      width: 100%;
      margin-top: 18px;
      padding: 12px;
      background-color: #00aaff;
      border: none;
      border-radius: 6px;
      color: #fff;
      font-weight: bold;
      cursor: pointer;
      transition: filter .2s ease;
    }
    button:hover { filter: brightness(0.92); }
    #dataHora {
      text-align: center;
      margin-top: 14px;
      font-size: 0.92em;
      color: #cfcfcf;
    }
    #infoProgramacao {
      margin-top: 24px;
      padding: 15px;
      background-color: rgba(255,255,255,0.1);
      border-radius: 8px;
      display: none;
    }
    #infoProgramacao a {
      display: block;
      margin-top: 10px;
      color: #00aaff;
      text-align: center;
      text-decoration: underline;
      word-break: break-all;
    }
    .copy-button {
      display: block;
      width: 100%;
      background-color: #00aaff;
      border: none;
      color: #fff;
      padding: 10px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.95em;
      font-weight: 600;
    }
    .copy-button:hover { filter: brightness(0.92); }
    textarea.preview {
      width: 100%;
      height: 120px;
      margin-top: 12px;
      padding: 10px;
      border-radius: 6px;
      resize: none;
      background-color: rgba(255,255,255,0.1);
      color: #fff;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      font-size: 0.95em;
      border: none;
      outline: 1px solid rgba(255,255,255,0.15);
    }
    .muted { color: #bbb; text-align: center; margin-top: 10px; }
    @media (max-width: 500px) {
      .container { padding: 20px; }
    }
  </style>
</head>
<body onload="iniciarRelogio()">
  <div class="container">
    <h2>Consulta de Programação</h2>
    <p class="sub">POSITIVO TECNOLOGIA</p>

    <label for="base">Base de Atendimento:</label>
    <select id="base" onchange="atualizarTecnicos()" aria-label="Base de Atendimento">
      <option value="">Selecione a base</option>
      <option value="Sorocaba">Sorocaba</option>
      <option value="Campinas">Campinas</option>
      <option value="SP_Zona_Norte">SP - Zona Norte</option>
      <option value="SP_Zona_Centro">SP - Zona Centro</option>
      <option value="SP_Zona_Oeste">SP - Zona Oeste</option>
    </select>

    <label for="tecnico">Técnico:</label>
    <select id="tecnico" aria-label="Técnico">
      <option value="">Selecione o técnico</option>
    </select>

    <label for="senha">Senha:</label>
    <input type="password" id="senha" placeholder="Digite sua senha" aria-label="Senha" />

    <div id="dataHora" aria-live="polite">Data/Hora atual:</div>

    <button onclick="consultarInfo()">Consultar Programação</button>

    <div id="infoProgramacao"></div>
    <p class="muted">Dica: selecione a base, escolha o técnico, informe a senha e clique em “Consultar”.</p>
  </div>

  <script>
    // --- Mapeamento de técnicos por base ---
    const tecnicosPorBase = {
      Sorocaba: [
        "Leone Henrique Da Silva Santos","Stefany Dias Rossi","Everson Da Silva Soares","Vagner De Souza Barbosa",
        "Clovis Ouchar Junior","Gabriel Amorim Fogaça De Sousa","Heleno Meira Dos Santos",
        "Ian Garcia Da Costa","Marcio Santos Santana","Rafael De Lima Santana","Elias Rodrigues Boaventura Cunha"
      ],
      Campinas: [
        "Vinicius Dacio Da Silva","Saulo Emmanuel Dos Santos Brito","Ricardo Rocha De Souza","Matheus Nielsen Ferraz",
        "Mateus Vinicius Rodrigues Batista","Gabriel Leonardo Oliveira Ozorio","Filipi De Almeida Mamoni",
        "Bruno Rafael Nascimento Gonçalves","Alexandre Matias Carvalho Lima","Marcus Pablo Gongora",
        "Diogo De Souza Ceccon","Marlon Waslley Mendes Da Silva","Wesley Machado Da Silva"
      ],
      SP_Zona_Norte: [
        "ANTONIO FAGNER BASTOS DE SOUZA","DIOGENES TADEU GRACIANO","GABRIEL DE SOUZA NASCIMENTO",
        "JACIANO SEBASTIAO DE OLIVEIRA","RAFAEL DE FREITAS SILVA MENEZES","RUBENS JUNIO FERREIRA VITALINO",
        "WILLIANS SANTOS DE PANTAS","WILSON JOSE DE SANTANA"
      ],
      SP_Zona_Centro: [
        "GABRIEL PAGLIA","RODRIGO PINHEIRO DE AZEVEDO","MICHEL DA SILVA GOMES"
      ],
      SP_Zona_Oeste: [
        "DAVID HARISON DIAS DA SILVA","FERNANDO VIEIRA ALMEIDA",
        "GUSTAVO GUIMARAES COSTA SILVA"
      ],
    };

    // --- Credenciais por técnico (TODO: manter dentro de UM único objeto) ---
    const credenciais = {
      // Técnicos Torre Weslley (Campinas / Sorocaba)
      "Alexandre Matias Carvalho Lima": { senha: "152", info: "50013803961 SLA: 03/11/2025 14:48, 60006157738 SLA: 04/11/2025 10:46, 60006157745 SLA: 04/11/2025 10:48, 60006157754 SLA: 04/11/2025 10:49, 60006157757 SLA: 04/11/2025 10:51, 60006157761 SLA: 04/11/2025 10:52, 60006136733 SLA: 03/11/2025 15:43", link: "sem" },
"Bruno Rafael Nascimento Gonçalves": { senha: "991", info: "50013800064 SLA: 04/11/2025 09:49, 50013800076 SLA: 04/11/2025 09:55, 50013801919 SLA: 04/11/2025 16:29, 50013801981 SLA: 04/11/2025 16:45, 50013810217 SLA: 04/11/2025 16:12, 50013810223 SLA: 04/11/2025 16:13, 50013810242 SLA: 04/11/2025 16:18, 50013810325 SLA: 04/11/2025 16:32, 50013811448 SLA: 05/11/2025 09:19, 50013818972 SLA: 09/10/2025 16:12, 50013750658 SLA: 03/11/2025 08:21, 50013764354 SLA: 04/11/2025 08:33", link: "sem" },
"Clovis Ouchar Junior": { senha: "336", info: "50013804767 SLA: 04/11/2025 08:01, 50013815331 SLA: 05/11/2025 12:00, 50013815340 SLA: 05/11/2025 12:00, 50013817263 SLA: 05/11/2025 09:36, 50013819421 SLA: 09/10/2025 17:27, 50013819571 SLA: 09/10/2025 17:37, 50013819746 SLA: 09/10/2025 17:51, 50013820378 SLA: 10/10/2025 09:04, 50013762209 SLA: 05/11/2025 08:05, 50013762212 SLA: 05/11/2025 08:05, 50013762215 SLA: 05/11/2025 08:05", link: "sem" },
"Elias Rodrigues Boaventura Cunha": { senha: "271", info: "50013800501 SLA: 04/11/2025 11:44, 50013800767 SLA: 04/11/2025 12:45, 50013800829 SLA: 04/11/2025 13:00, 50013804017 SLA: 03/11/2025 15:07, 50013812216 SLA: 05/11/2025 10:43, 50013817930 SLA: 09/10/2025 14:19, 50013689626 SLA: 02/10/2025 14:39, 50013722387 SLA: 03/10/2025 12:00, 50013756500 SLA: 04/11/2025 08:05, 50013757585 SLA: 04/11/2025 08:23", link: "sem" },
"Everson Da Silva Soares": { senha: "308", info: "60006161346 SLA: 08/10/2025 14:04, 50013803650 SLA: 05/11/2025 09:43, 50013793524 SLA: 05/11/2025 10:38", link: "sem" },
"Filipi De Almeida Mamoni": { senha: "494", info: "50013804211 SLA: 03/11/2025 16:01, 50013818020 SLA: 09/10/2025 14:35, 50013664221 SLA: 01/10/2025 17:56, 50013680158 SLA: 02/10/2025 09:25, 50013715396 SLA: 02/10/2025 14:49, 50013764118 SLA: 03/11/2025 17:42, 50013764155 SLA: 03/11/2025 17:46", link: "sem" },
"Gabriel Leonardo Oliveira Ozorio": { senha: "488", info: "50013802318 SLA: 05/11/2025 08:09, 50013802321 SLA: 05/11/2025 08:11, 50013803640 SLA: 05/11/2025 09:43, 50013812632 SLA: 05/11/2025 09:17, 50013814129 SLA: 05/11/2025 10:35, 50013814267 SLA: 05/11/2025 10:36, 50013814273 SLA: 05/11/2025 10:38, 50013692302 SLA: 02/10/2025 12:47, 50013752142 SLA: 03/11/2025 10:14", link: "sem" },
"Heleno Meira Dos Santos": { senha: "268", info: "50013803896 SLA: 03/11/2025 14:45, 50013816767 SLA: 05/11/2025 08:56, 50013817191 SLA: 05/11/2025 09:21, 50013817210 SLA: 05/11/2025 09:25, 50013817237 SLA: 05/11/2025 09:30, 50013817258 SLA: 05/11/2025 09:35, 50013817284 SLA: 05/11/2025 09:40, 50013817349 SLA: 05/11/2025 09:58, 50013818399 SLA: 09/10/2025 15:05, 50013818451 SLA: 09/10/2025 15:14, 50013795703 SLA: 03/11/2025 13:11", link: "sem" },
"Ian Garcia Da Costa": { senha: "477", info: "50013803415 SLA: 05/11/2025 09:43, 50013803417 SLA: 05/11/2025 09:43, 50013805276 SLA: 04/11/2025 10:43, 50013805289 SLA: 04/11/2025 10:47, 50013805370 SLA: 04/11/2025 11:01, 50013809933 SLA: 04/11/2025 15:11, 50013809947 SLA: 04/11/2025 15:15, 50013809956 SLA: 04/11/2025 15:17, 50013809973 SLA: 04/11/2025 15:22, 50013811231 SLA: 05/11/2025 08:43, 50013811261 SLA: 05/11/2025 08:52", link: "sem" },
"Leone Henrique Da Silva Santos": { senha: "448", info: "50013806025 SLA: 04/11/2025 13:06, 50013814990 SLA: 05/11/2025 12:00, 50013817767 SLA: 05/11/2025 10:47, 50013817795 SLA: 05/11/2025 10:52, 50013715696 SLA: 02/10/2025 14:57, 50013732084 SLA: 04/11/2025 14:11, 50013732314 SLA: 04/11/2025 14:20, 50013732338 SLA: 04/11/2025 14:27, 50013746250 SLA: 04/11/2025 13:52, 50013746267 SLA: 04/11/2025 13:55, 50013782865 SLA: 04/11/2025 10:38, 50013782869 SLA: 04/11/2025 10:38, 50013789728 SLA: 04/11/2025 16:52", link: "sem" },
"Marcio Santos Santana": { senha: "946", info: "50013805516 SLA: 04/11/2025 11:11, 50013805647 SLA: 04/11/2025 11:49, 50013805661 SLA: 04/11/2025 11:52, 50013805666 SLA: 04/11/2025 11:53, 50013805668 SLA: 04/11/2025 11:53, 50013805673 SLA: 04/11/2025 11:55, 50013805676 SLA: 04/11/2025 11:56, 50013805682 SLA: 04/11/2025 11:56, 50013805701 SLA: 04/11/2025 12:03", link: "sem" },
"Marcus Pablo Gongora": { senha: "215", info: "20001155422 SLA: 08/10/2025 18:00, 20001155423 SLA: 08/10/2025 18:00, 20001155424 SLA: 08/10/2025 18:00, 20001155425 SLA: 08/10/2025 18:00, 20001155426 SLA: 08/10/2025 18:00, 20001155427 SLA: 10/10/2025 18:00, 20001155428 SLA: 08/10/2025 18:00, 20001155429 SLA: 08/10/2025 18:00, 20001155430 SLA: 10/10/2025 18:00", link: "sem" },
"Marlon Waslley Mendes Da Silva": { senha: "410", info: "60006156732 SLA: 07/10/2025 18:00, 60006156759 SLA: 07/10/2025 18:00, 60006156765 SLA: 07/10/2025 18:00, 60006157539 SLA: 06/10/2025 18:00, 60006157762 SLA: 06/10/2025 18:00", link: "sem" },
"Matheus Nielsen Ferraz": { senha: "477", info: "50013805876 SLA: 04/11/2025 12:26, 50013805890 SLA: 04/11/2025 12:29, 50013812774 SLA: 05/11/2025 09:47, 50013812807 SLA: 05/11/2025 09:55, 50013812829 SLA: 05/11/2025 09:59, 50013812839 SLA: 05/11/2025 10:01, 50013813996 SLA: 05/11/2025 10:34, 50013818771 SLA: 09/10/2025 15:41, 50013819334 SLA: 09/10/2025 16:57, 50013791225 SLA: 05/11/2025 09:57", link: "sem" },
"Ricardo Rocha De Souza": { senha: "227", info: "50013799950 SLA: 04/11/2025 09:43, 50013799953 SLA: 04/11/2025 09:43, 50013811646 SLA: 05/11/2025 09:48, 50013812225 SLA: 05/11/2025 10:46, 50013812250 SLA: 05/11/2025 10:51, 50013812271 SLA: 09/10/2025 08:11, 50013812286 SLA: 09/10/2025 08:14, 50013812313 SLA: 09/10/2025 08:19, 50013713519 SLA: 02/10/2025 12:00", link: "sem" },
"Stefany Dias Rossi": { senha: "410", info: "50013803979 SLA: 03/11/2025 14:54, 50013700517 SLA: 01/10/2025 16:10, 50013796858 SLA: 03/11/2025 16:47, 50013715527 SLA: 02/10/2025 14:53, 50013789720 SLA: 04/11/2025 16:50, 50013795836 SLA: 03/11/2025 13:40", link: "sem" },
"Vagner De Souza Barbosa": { senha: "367", info: "50013812834 SLA: 05/11/2025 10:00, 50013813253 SLA: 05/11/2025 10:08, 50013813689 SLA: 05/11/2025 10:21, 50013813845 SLA: 05/11/2025 10:28, 50013813859 SLA: 05/11/2025 10:32, 50013814128 SLA: 05/11/2025 10:35, 50013814274 SLA: 05/11/2025 10:38, 50013814415 SLA: 05/11/2025 10:42, 50013814433 SLA: 05/11/2025 10:47, 50013814444 SLA: 05/11/2025 10:50, 50013814457 SLA: 05/11/2025 10:53, 50013814473 SLA: 05/11/2025 10:56, 50013814488 SLA: 05/11/2025 11:01, 50013814502 SLA: 05/11/2025 11:03, 50013814516 SLA: 05/11/2025 11:07, 50013814528 SLA: 05/11/2025 11:09, 50013814567 SLA: 05/11/2025 11:17, 50013814575 SLA: 05/11/2025 11:19", link: "sem" },
"Vinicius Dacio Da Silva": { senha: "525", info: "50013793619 SLA: 03/11/2025 09:43, 50013817898 SLA: 05/11/2025 11:09, 50013817941 SLA: 09/10/2025 14:20, 50013734424 SLA: 05/11/2025 10:10, 50013738566 SLA: 05/11/2025 12:00, 50013739597 SLA: 05/11/2025 12:00, 50013759540 SLA: 04/11/2025 13:08, 50013787044 SLA: 04/11/2025 12:28, 50013789924 SLA: 04/11/2025 17:20", link: "sem" },
"Wesley Machado Da Silva": { senha: "448", info: "60006160547 SLA: 08/10/2025 18:00, 60006160862 SLA: 08/10/2025 18:00, 60006161008 SLA: 08/10/2025 18:00, 60006161035 SLA: 08/10/2025 18:00", link: "sem" },

      // Técnicos SP (placeholders “Sem Programação”)
        "ANTONIO FAGNER BASTOS DE SOUZA": { senha: "270", info: "Sem Programação", link: "" },
"DAVID HARISON DIAS DA SILVA": { senha: "124", info: "50013817615 SLA: 8/10/25 15:28, 60006160764 SLA: 9/10/25 11:08, 60006161606 SLA: 9/10/25 16:36, 50013818415 SLA: 8/10/25 17:08, 50013818460 SLA: 8/10/25 17:15, 50013818487 SLA: 8/10/25 17:21, 60006160681 SLA: 9/10/25 10:45, 50013821548 SLA: 9/10/25 12:39", link: "" },
"DIOGENES TADEU GRACIANO": { senha: "129", info: "50013818485 SLA: 8/10/25 17:20, 50013818502 SLA: 8/10/25 17:22, 50013818707 SLA: 8/10/25 17:25, 50013818719 SLA: 8/10/25 17:28, 50013818733 SLA: 8/10/25 17:30, 50013818777 SLA: 8/10/25 17:42, 50013818793 SLA: 8/10/25 17:45, 50013818815 SLA: 8/10/25 17:49, 50013818830 SLA: 8/10/25 17:52", link: "" },
"FERNANDO VIEIRA ALMEIDA": { senha: "090", info: "60006161362 SLA: 8/10/25 18:00, 60006161065 SLA: 9/10/25 12:44, 60006161533 SLA: 9/10/25 16:14, 60006161094 SLA: 10/10/25 18:00, 60006161466 SLA: 14/10/25 17:00", link: "" },
"GABRIEL DE SOUZA NASCIMENTO": { senha: "474", info: "50013810381 SLA: 4/11/25 8:43, 50013810388 SLA: 4/11/25 8:45, 50013810401 SLA: 4/11/25 8:46, 50013810413 SLA: 4/11/25 8:48, 50013810440 SLA: 4/11/25 8:50, 50013810526 SLA: 4/11/25 9:01, 50013810543 SLA: 4/11/25 9:02, 50013810550 SLA: 4/11/25 9:03, 50013810564 SLA: 4/11/25 9:05, 50013810582 SLA: 4/11/25 9:08, 50013810601 SLA: 4/11/25 9:10, 50013810622 SLA: 4/11/25 9:12, 50013810645 SLA: 4/11/25 9:16, 50013810653 SLA: 4/11/25 9:17, 50013810678 SLA: 4/11/25 9:19, 50013810704 SLA: 4/11/25 9:21, 50013810714 SLA: 4/11/25 9:24, 50013810726 SLA: 4/11/25 9:27, 50013810732 SLA: 4/11/25 9:28, 50013810745 SLA: 4/11/25 9:29, 50013810751 SLA: 4/11/25 9:30, 50013810770 SLA: 4/11/25 9:33, 50013810778 SLA: 4/11/25 9:34, 50013810849 SLA: 4/11/25 9:47", link: "" },
"GABRIEL PAGLIA": { senha: "083", info: "Sem Programação", link: "" },
"GUSTAVO GUIMARAES COSTA SILVA": { senha: "400", info: "Sem Programação", link: "" },
"JACIANO SEBASTIAO DE OLIVEIRA": { senha: "230", info: "Sem Programação", link: "" },
"MATHEUS VINICIUS SILVEIRA DE CAMPOS": { senha: "484", info: "Sem Programação", link: "" },
"MICHEL DA SILVA GOMES": { senha: "426", info: "Sem Programação", link: "" },
"RAFAEL DE FREITAS SILVA MENEZES": { senha: "441", info: "80013773848 SLA: 29/10/25 16:46, 80013773849 SLA: 29/10/25 16:46", link: "" },
"RODRIGO PINHEIRO DE AZEVEDO": { senha: "225", info: "Sem Programação", link: "" },
"RUBENS JUNIO FERREIRA VITALINO": { senha: "489", info: "50013817568 SLA: 4/11/25 12:14, 50013820709 SLA: 9/10/25 11:50, 50013821013 SLA: 9/10/25 12:04, 50013821213 SLA: 9/10/25 12:06, 50013821223 SLA: 9/10/25 12:08, 50013821230 SLA: 9/10/25 12:10, 50013815202 SLA: 4/11/25 10:56, 50013815346 SLA: 4/11/25 10:56, 50013815358 SLA: 4/11/25 10:56, 50013820115 SLA: 9/10/25 10:50, 50013820613 SLA: 9/10/25 11:31, 50013820728 SLA: 9/10/25 11:52", link: "" },
"WILLIANS SANTOS DE PANTAS": { senha: "410", info: "50013817733 SLA: 4/11/25 12:42, 50013817747 SLA: 4/11/25 12:44, 50013817909 SLA: 4/11/25 13:11, 50013817920 SLA: 8/10/25 16:18, 50013817936 SLA: 8/10/25 16:20, 50013817961 SLA: 8/10/25 16:23, 50013817998 SLA: 8/10/25 16:30, 50013818008 SLA: 8/10/25 16:32, 50013818017 SLA: 8/10/25 16:34, 50013818086 SLA: 8/10/25 16:47, 50013818302 SLA: 8/10/25 16:51, 50013818325 SLA: 8/10/25 16:54, 50013818340 SLA: 8/10/25 16:55, 50013818356 SLA: 8/10/25 16:57, 50013818362 SLA: 8/10/25 16:59, 50013820026 SLA: 9/10/25 10:39", link: "" },
"WILSON JOSE DE SANTANA": { senha: "296", info: "60006160620 SLA: 8/10/25 18:00, 60006161592 SLA: 8/10/25 18:00, 50013817197 SLA: 4/11/25 11:22, 50013817214 SLA: 4/11/25 11:26, 50013817234 SLA: 4/11/25 11:29, 50013817295 SLA: 4/11/25 11:43, 50013817404 SLA: 4/11/25 12:07", link: "" },
};
    function atualizarTecnicos() {
      const base = document.getElementById("base").value;
      const tecnicoSelect = document.getElementById("tecnico");
      const infoDiv = document.getElementById("infoProgramacao");
      tecnicoSelect.innerHTML = '<option value="">Selecione o técnico</option>';
      infoDiv.style.display = "none"; // limpa painel ao trocar base

      if (tecnicosPorBase[base]) {
        tecnicosPorBase[base].forEach(tecnico => {
          const opt = document.createElement("option");
          opt.value = tecnico;
          opt.textContent = tecnico;
          tecnicoSelect.appendChild(opt);
        });
      }
    }

    function iniciarRelogio() {
      const el = document.getElementById("dataHora");
      const tick = () => {
        const d = new Date();
        el.textContent = `Data/Hora atual: ${d.toLocaleString('pt-BR')}`;
      };
      tick();
      setInterval(tick, 1000);
    }

    function isValidHttpUrl(value) {
      try {
        const url = new URL(value);
        return url.protocol === "http:" || url.protocol === "https:";
      } catch {
        return false;
      }
    }

    function consultarInfo() {
      const tecnico = document.getElementById("tecnico").value;
      const senha = document.getElementById("senha").value;

      if (!tecnico) { alert("Selecione o técnico."); return; }
      const cred = credenciais[tecnico];
      if (!cred) { alert("Técnico não configurado."); return; }
      if (senha !== String(cred.senha)) { alert("Senha incorreta."); return; }

      const info = cred.info ?? "";
      const link = cred.link ?? "";

      const infoDiv = document.getElementById("infoProgramacao");
      const linkHtml = isValidHttpUrl(link)
        ? `<a href="${link}" target="_blank" rel="noopener noreferrer">Abrir rota no Google Maps</a>`
        : `<div class="muted">Sem programação de rota.</div>`;

      infoDiv.innerHTML = `
        <button class="copy-button" onclick="copiarInfo()">Copiar lista de ocorrências</button>
        <textarea class="preview" id="textoInfo" readonly>${info}</textarea>
        ${linkHtml}
      `;
      infoDiv.style.display = "block";
    }

    function copiarInfo() {
      const texto = document.getElementById("textoInfo")?.value ?? "";
      navigator.clipboard.writeText(texto)
        .then(() => alert("Informações copiadas com sucesso!"))
        .catch(() => alert("Não foi possível copiar. Verifique permissões do navegador."));
    }

    // UX: Enter no campo senha dispara consulta
    document.getElementById('senha').addEventListener('keydown', (e) => {
      if (e.key === 'Enter') consultarInfo();
    });
  </script>
</body>
</html>








































































































